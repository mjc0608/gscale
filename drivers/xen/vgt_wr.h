


/*
 * Next MACROs from WindRiver, to check licensee.
 */
#define MI_SET_CONTEXT		    (0x18 << 23)
#define   MI_MM_SPACE_GTT		(1<<8)
#define   MI_MM_SPACE_PHYSICAL		(0<<8)
#define   MI_SAVE_EXT_STATE_EN		(1<<3)
#define   MI_RESTORE_EXT_STATE_EN	(1<<2)
#define   MI_FORCE_RESTORE		(1<<1)
#define   MI_RESTORE_INHIBIT		(1<<0)

#define MI_FLUSH	(0x04 << 23)
#define MI_SUSPEND_FLUSH	(0x0b << 23)
#define   MI_SUSPEND_FLUSH_EN	(1<<0)


#define MI_STORE_DWORD_IMM_INS	( (0x20 << 23) | (1 << 22) | 2)

#define MI_ARB_ON_OFF_INS (0x08 << 23)
#define  ARB_ENABLE 1
#define  ARB_DISABLE 0

#define MI_NOOP			0


#define I915_REG_FORCEWAKE_OFFSET 	0xa18c


#define I915_REG_NULL_OFFSET 		0xFFFFFFFF
#define I915_REG_PGTBL_CTL_OFFSET 	0x2020
#define I915_REG_DSPABASE_OFFSET 	0x70184
#define I915_REG_FENCE0_OFFSET 		0x3000
#define I915_REG_FENCE1_OFFSET 		0x3004
#define I915_REG_FENCE2_OFFSET 		0x3008
#define I915_REG_FENCE3_OFFSET 		0x300C
#define I915_REG_HWSTAM_OFFSET 		0x2098
#define I915_REG_IMR_OFFSET 		0x20A8
#define I915_REG_EMR_OFFSET 		0x20BA
#define I915_REG_HSW_PGA_OFFSET 	0x2080
#define I915_REG_INSTPM_OFFSET 		0x20C0
#define I915_REG_MEM_MODE_OFFSET 	0x20CC
#define I915_REG_MI_ARB_STATE_OFFSET 	0x20E4
#define I915_REG_THREED_CTL_OFFSET 	0x21D0
#define I915_REG_CHUNK_CTL_OFFSET 	0x2300
#define I915_REG_BINCTL_OFFSET 		0x2420
#define I915_REG_EXCC_OFFSET 		0x2028
#define I915_REG_BMP_BUFFER_OFFSET 	0x2430
#define I915_REG_BIN_GET_OFFSET 	0x2438
#define I915_REG_BMP_PUT_OFFSET 	0x2440
#define I915_REG_TWOD_CG_DIS_OFFSET 	0x6200
#define I915_REG_THREED_CG_DIS_OFFSET 	0x6204
#define I915_REG_IER_OFFSET 		0x20A0
#define I915_REG_IIR_OFFSET 		0x20A4
#define I915_REG_EIR_OFFSET 		0x20B0
#define I915_REG_FW_BLC_OFFSET 		0x20D8
#define I915_REG_CCID2_OFFSET 		0x2188
#define I915_REG_CCID3_OFFSET 		0x218C
#define I915_REG_CTX_SIZE_PAL_OFFSET 	0x21A0
#define I915_REG_CTX_SIZE_NOPAL_OFFSET 	0x21A4
#define I915_REG_MMIO_TCNT_OFFSET 	0x2380
#define I915_REG_VGA0_OFFSET 		0x6000
#define I915_REG_VGA1_OFFSET 		0x6004
#define I915_REG_VGA_PD_OFFSET 		0x6010
#define I915_REG_DPLL_A_OFFSET 		0x6014
#define I915_REG_FPA0_OFFSET 		0x6040
#define I915_REG_FPA1_OFFSET 		0x6044
#define I915_REG_D_STATE_OFFSET 	0x6104
#define I915_REG_GAMC5_OFFSET 		0x30010
#define I915_REG_GAMC4_OFFSET 		0x30014
#define I915_REG_GAMC3_OFFSET 		0x30018
#define I915_REG_GAMC2_OFFSET 		0x3001C
#define I915_REG_GAMC1_OFFSET 		0x30020
#define I915_REG_GAMC0_OFFSET 		0x30024
#define I915_REG_HTOTAL_A_OFFSET 	0x60000
#define I915_REG_HBLANK_A_OFFSET 	0x60004
#define I915_REG_HSYNC_A_OFFSET 	0x60008
#define I915_REG_VTOTAL_A_OFFSET 	0x6000C
#define I915_REG_VBLANK_A_OFFSET 	0x60010
#define I915_REG_VSYNC_A_OFFSET 	0x60014
#define I915_REG_PIPEASRC_OFFSET 	0x6001C
#define I915_REG_BCLRPAT_A_OFFSET 	0x60020
#define I915_REG_CRCCTRLREDA_OFFSET 	0x60050
#define I915_REG_CRCCTRLGREENA_OFFSET 	0x60054
#define I915_REG_HTOTAL_B_OFFSET 	0x61000
#define I915_REG_HBLANK_B_OFFSET 	0x61004
#define I915_REG_HSYNC_B_OFFSET 	0x61008
#define I915_REG_VTOTAL_B_OFFSET 	0x6100C
#define I915_REG_VBLANK_B_OFFSET 	0x61010
#define I915_REG_VSYNC_B_OFFSET 	0x61014
#define I915_REG_PIPEBSRC_OFFSET 	0x6101C
#define I915_REG_BCLRPAT_B_OFFSET 	0x61020
#define I915_REG_PIPEB_DATA_M1_OFFSET	0x61030
#define I915_REG_PIPEB_DATA_N1_OFFSET	0x61034
#define I915_REG_PIPEB_LINK_M1_OFFSET	0x61040
#define I915_REG_PIPEB_LINK_N1_OFFSET	0x61044
#define I915_REG_FDI_TXB_CTL_OFFSET	0x61100
/*#define I915_REG_ADPA_OFFSET 		0x61100 */
#define I915_REG_ADPA_OFFSET 		0x61100
#define I915_REG_DVOB_OFFSET 		0x61140
#define I915_REG_DVOC_OFFSET 		0x61160
#define I915_REG_PIPEACONF_OFFSET 	0x70008
#define I915_REG_DSPARB_OFFSET 		0x70030
#define I915_REG_DSPACNTR_OFFSET 	0x70180
#define I915_REG_DSPASTRIDE_OFFSET 	0x70188
#define I915_REG_CHICKEN_OFFSET 	0x70400
#define I915_REG_VGACNTROL_OFFSET 	0x71400
#define I915_REG_SWF10_OFFSET 		0x71410
#define I915_REG_SWF11_OFFSET 		0x71414
#define I915_REG_SWF12_OFFSET 		0x71418
#define I915_REG_SWF13_OFFSET 		0x7141C
#define I915_REG_SWF14_OFFSET 		0x71420
#define I915_REG_SWF15_OFFSET 		0x71424
#define I915_REG_SWF16_OFFSET 		0x71428
#define I915_REG_SWF17_OFFSET 		0x7142C
#define I915_REG_SWF18_OFFSET 		0x71430
#define I915_REG_SWF19_OFFSET 		0x71434
#define I915_REG_SWF1A_OFFSET 		0x71438
#define I915_REG_SWF1B_OFFSET 		0x7143C
#define I915_REG_SWF1C_OFFSET 		0x71440
#define I915_REG_SWF1D_OFFSET 		0x71444
#define I915_REG_SWF1E_OFFSET 		0x71448
#define I915_REG_SWF1F_OFFSET 		0x7144C
#define I915_REG_SWF30_OFFSET 		0x72414
#define I915_REG_SWF31_OFFSET 		0x72418
#define I915_REG_SWF32_OFFSET 		0x7241C
#define I915_REG_PRB0_START_OFFSET 	0x2038
#define I915_REG_PRB0_TAIL_OFFSET 	0x2030
#define I915_REG_PRB0_HEAD_OFFSET 	0x2034
#define I915_REG_PRB0_CTL_OFFSET 	0x203C
#define I915_REG_BB_STATE_OFFSET	0x2110
#define I915_REG_HWB_START_OFFSET 	0x2408
#define I915_REG_HWB_TAIL_OFFSET 	0x2400
#define I915_REG_HWB_HEAD_OFFSET 	0x2404
#define I915_REG_HWB_CTL_OFFSET 	0x240C
#define I915_REG_FORCEWAKE_OFFSET 	0xa18c

#define I915_REG_PIPEA_DATA_M1_OFFSET	0x60030
#define I915_REG_PIPEA_DATA_N1_OFFSET	0x60034
#define I915_REG_PIPEA_LINK_M1_OFFSET	0x60040
#define I915_REG_PIPEA_LINK_N1_OFFSET	0x60044
#define I915_REG_FDI_TXA_CTL_OFFSET	0x60100
#define I915_REG_PFA_WIN_SZ_OFFSET	0x68074
#define I915_REG_PFA_CTL_1_OFFSET	0x68080
#define I915_REG_DSPASURF_OFFSET	0x7019c
#define I915_REG_DSPATILEOFF_OFFSET	0x701a4
#define I915_REG_PIPEASTAT_OFFSET	0x70024

#define I915_REG_TRANSACONF_OFFSET 	0xf0008
#define I915_REG_FDI_RXA_CTL_OFFSET 	0xf000c
#define I915_REG_FDI_RXA_IIR_OFFSET 	0xf0014
#define I915_REG_FDI_RXA_IMR_OFFSET 	0xf0018
#define I915_REG_FDI_RXA_TUSIZE1_OFFSET 0xf0030
#define I915_REG_TRANSBCONF_OFFSET 	0xf1008 /* always 0 */
#define I915_REG_FDI_RXB_CTL_OFFSET 	0xf100c /* always 0x40 */

#define I915_REG_PP_ON_DELAY_OFFSET 	0x61208
#define I915_REG_PP_OFF_DELAY_OFFSET 	0x6120c

#define I915_REG_WM0_PIPEA_ILK_OFFSET 		0x45100
#define I915_REG_WM0_PIPEB_ILK_OFFSET		0x45104
#define I915_REG_WM1_LP_ILK_OFFSET 		0x45108
#define I915_REG_WM2_LP_ILK_OFFSET 		0x4510c
#define I915_REG_WM3_LP_ILK_OFFSET 		0x45110
#define I915_REG_PCH_DPLL_A_OFFSET 		0xc6014
#define I915_REG_PCH_DPLL_B_OFFSET 		0xc6018
#define I915_REG_PCH_FPA0_OFFSET 		0xc6040
#define I915_REG_PCH_FPA1_OFFSET 		0xc6044
#define I915_REG_PCH_DREF_CONTROL_OFFSET 	0xc6200
#define I915_REG_PCH_DPLL_SEL_OFFSET 		0xc7000
#define I915_REG_TRANS_HTOTAL_A_OFFSET 		0xe0000
#define I915_REG_TRANS_HBLANK_A_OFFSET 		0xe0004
#define I915_REG_TRANS_HSYNC_A_OFFSET 		0xe0008
#define I915_REG_TRANS_VTOTAL_A_OFFSET 		0xe000c
#define I915_REG_TRANS_VBLANK_A_OFFSET 		0xe0010
#define I915_REG_TRANS_VSYNC_A_OFFSET 		0xe0014
#define I915_REG_TRANSA_DATA_M1_OFFSET 		0xe0030
#define I915_REG_TRANSA_DATA_N1_OFFSET 		0xe0034
#define I915_REG_TRANSA_DP_LINK_M1_OFFSET 	0xe0040
#define I915_REG_TRANSA_DP_LINK_N1_OFFSET 	0xe0044
#define I915_REG_TRANS_DP_CTL_A_OFFSET 		0xe0300
#define I915_REG_TRANS_DP_CTL_B_OFFSET 		0xe1300
#define I915_REG_PCH_ADPA_OFFSET 		0xe1100

#define I915_REG_BLT_RING_START_OFFSET 	0x22038
#define I915_REG_BLT_RING_TAIL_OFFSET 	0x22030
#define I915_REG_BLT_RING_HEAD_OFFSET 	0x22034
#define I915_REG_BLT_RING_CTL_OFFSET 	0x2203C

#define I915_REG_GEN6_BSD_RING_START_OFFSET 	0x12038
#define I915_REG_GEN6_BSD_RING_TAIL_OFFSET 	0x12030
#define I915_REG_GEN6_BSD_RING_HEAD_OFFSET 	0x12034
#define I915_REG_GEN6_BSD_RING_CTL_OFFSET 	0x1203C

#define I915_REG_CURABASE_OFFSET	 	0x70084
#define I915_REG_CURBBASE_OFFSET	 	0x700C4
#define I915_REG_DSPASURFLIVE_OFFSET	 	0x701AC
#define I915_REG_DSPBSURF_OFFSET	 	0x7119C
#define I915_REG_DSPBSURFLIVE_OFFSET	 	0x711AC
#define I915_REG_DVSASURFLIVE_OFFSET	 	0x721AC
#define I915_REG_DVSBSURF_OFFSET	 	0x7319C
#define I915_REG_DVBSURFLIVE_OFFSET	 	0x731AC

#define I915_REG_FENCE_0_OFFSET			0x100000
#define I915_REG_FENCE_1_OFFSET			0x100004
#define I915_REG_FENCE_2_OFFSET			0x100008
#define I915_REG_FENCE_3_OFFSET			0x10000c
#define I915_REG_FENCE_4_OFFSET			0x100010
#define I915_REG_FENCE_5_OFFSET			0x100014
#define I915_REG_FENCE_6_OFFSET			0x100018
#define I915_REG_FENCE_7_OFFSET			0x10001c
#define I915_REG_FENCE_8_OFFSET			0x100020
#define I915_REG_FENCE_9_OFFSET			0x100024
#define I915_REG_FENCE_10_OFFSET		0x100028
#define I915_REG_FENCE_11_OFFSET		0x10002c
#define I915_REG_FENCE_12_OFFSET		0x100030
#define I915_REG_FENCE_13_OFFSET		0x100034
#define I915_REG_FENCE_14_OFFSET		0x100038
#define I915_REG_FENCE_15_OFFSET		0x10003c
#define I915_REG_FENCE_16_OFFSET		0x100040
#define I915_REG_FENCE_17_OFFSET		0x100044
#define I915_REG_FENCE_18_OFFSET		0x100048
#define I915_REG_FENCE_19_OFFSET		0x10004c
#define I915_REG_FENCE_20_OFFSET		0x100050
#define I915_REG_FENCE_21_OFFSET		0x100054
#define I915_REG_FENCE_22_OFFSET		0x100058
#define I915_REG_FENCE_23_OFFSET		0x10005c
#define I915_REG_FENCE_24_OFFSET		0x100060
#define I915_REG_FENCE_25_OFFSET		0x100064
#define I915_REG_FENCE_26_OFFSET		0x100068
#define I915_REG_FENCE_27_OFFSET		0x10006c
#define I915_REG_FENCE_28_OFFSET		0x100070
#define I915_REG_FENCE_29_OFFSET		0x100074
#define I915_REG_FENCE_30_OFFSET		0x100078
#define I915_REG_FENCE_31_OFFSET		0x10007c

#define I915_REG_HWS_PGA_OFFSET			0x4080
#define I915_REG_PP_PFD_OFFSET			0x4580
#define I915_REG_BB_PREEMPT_ADDR_OFFSET		0x2148
#define I915_REG_BB_START_ADDR_OFFSET		0x2150
#define I915_REG_BB_ADDR_DIFF_OFFSET		0x2154
#define I915_REG_FBC_RT_ADDR_REGISTER_OFFSET	0x2128
#define I915_REG_UHPTR_OFFSET			0x2134
#define I915_REG_BB_ADDR_OFFSET			0x2140
#define I915_REG_CCID_OFFSET			0x2180
#define I915_REG_VCS_HWS_PGA_OFFSET		0x4180
#define I915_REG_BCS_HWS_PGA_OFFSET		0x24080
#define I915_REG_BCS_UHPTR_OFFSET		0x22134
#define I915_REG_RENDER_RING_ACTHD_OFFSET	0x2074

#define I915_REG_PFB_WIN_SZ_OFFSET		0x68874
#define I915_REG_PFB_CTL_1_OFFSET		0x68880
#define I915_REG_PIPEBCONF_OFFSET		0x71008
#define I915_REG_PIPEBSTAT_OFFSET		0x71024
#define I915_REG_DSPBRB_OFFSET			0x71030
#define I915_REG_DSPBCNTR_OFFSET		0x71180
#define I915_REG_DSPBBASE_OFFSET		0x71184
#define I915_REG_DSPBSTRIDE_OFFSET		0x71188
#define I915_REG_DSPBTILEOFF_OFFSET		0x711a4
#define I915_REG_PCH_FPB0_OFFSET		0xc6048
#define I915_REG_PCH_FPB1_OFFSET		0xc604c
#define I915_REG_TRANS_HTOTAL_B_OFFSET		0xe1000
#define I915_REG_TRANS_HBLANK_B_OFFSET		0xe1004
#define I915_REG_TRANS_HSYNC_B_OFFSET		0xe1008
#define I915_REG_TRANS_VTOTAL_B_OFFSET		0xe100c
#define I915_REG_TRANS_VBLANK_B_OFFSET		0xe1010
#define I915_REG_TRANS_VSYNC_B_OFFSET		0xe1014
#define I915_REG_TRANSB_DATA_M1_OFFSET		0xe1030
#define I915_REG_TRANSB_DATA_N1_OFFSET		0xe1034
#define I915_REG_TRANSB_DP_LINK_M1_OFFSET	0xe1040
#define I915_REG_TRANSB_DP_LINK_N1_OFFSET	0xe1044
#define I915_REG_FDI_RXB_IIR_OFFSET		0xf1014
#define I915_REG_FDI_RXB_IMR_OFFSET		0xf1018
#define I915_REG_FDI_RXB_TUSIZE1_OFFSET		0xf1030
#define I915_REG_HDMIB_OFFSET			0xe1140
#define I915_REG_HDMIC_OFFSET			0xe1150
#define I915_REG_HDMID_OFFSET			0xe1160
#define I915_REG_GT_FIFO_FREE_ENTRIES_OFFSET	0x120008

#define I915_REG_PGTBL_CTL_OFFSET   0x2020
#define I915_REG_DSPABASE_OFFSET    0x70184
#define I915_REG_FENCE0_OFFSET      0x3000
#define I915_REG_FENCE1_OFFSET      0x3004
#define I915_REG_FENCE2_OFFSET      0x3008
#define I915_REG_FENCE3_OFFSET      0x300C
#define I915_REG_HWSTAM_OFFSET      0x2098
#define I915_REG_IMR_OFFSET         0x20A8
#define I915_REG_EMR_OFFSET         0x20BA
#define I915_REG_HSW_PGA_OFFSET     0x2080
#define I915_REG_INSTPM_OFFSET      0x20C0
#define I915_REG_MEM_MODE_OFFSET    0x20CC
#define I915_REG_MI_ARB_STATE_OFFSET    0x20E4
#define I915_REG_THREED_CTL_OFFSET  0x21D0
#define I915_REG_CHUNK_CTL_OFFSET   0x2300
#define I915_REG_BINCTL_OFFSET      0x2420
#define I915_REG_EXCC_OFFSET        0x2028
#define I915_REG_BMP_BUFFER_OFFSET  0x2430
#define I915_REG_BIN_GET_OFFSET     0x2438
#define I915_REG_BMP_PUT_OFFSET     0x2440
#define I915_REG_TWOD_CG_DIS_OFFSET     0x6200
#define I915_REG_THREED_CG_DIS_OFFSET   0x6204
#define I915_REG_IER_OFFSET         0x20A0
#define I915_REG_IIR_OFFSET         0x20A4
#define I915_REG_EIR_OFFSET         0x20B0
#define I915_REG_FW_BLC_OFFSET      0x20D8
#define I915_REG_CCID2_OFFSET       0x2188
#define I915_REG_CCID3_OFFSET       0x218C
#define I915_REG_CTX_SIZE_PAL_OFFSET    0x21A0
#define I915_REG_CTX_SIZE_NOPAL_OFFSET  0x21A4
#define I915_REG_MMIO_TCNT_OFFSET   0x2380
#define I915_REG_VGA0_OFFSET        0x6000
#define I915_REG_VGA1_OFFSET        0x6004
#define I915_REG_VGA_PD_OFFSET      0x6010
#define I915_REG_DPLL_A_OFFSET      0x6014
#define I915_REG_FPA0_OFFSET        0x6040
#define I915_REG_FPA1_OFFSET        0x6044
#define I915_REG_D_STATE_OFFSET     0x6104
#define I915_REG_GAMC5_OFFSET       0x30010
#define I915_REG_GAMC4_OFFSET       0x30014
#define I915_REG_GAMC3_OFFSET       0x30018
#define I915_REG_GAMC2_OFFSET       0x3001C
#define I915_REG_GAMC1_OFFSET       0x30020
#define I915_REG_GAMC0_OFFSET       0x30024
#define I915_REG_HTOTAL_A_OFFSET    0x60000
#define I915_REG_HBLANK_A_OFFSET    0x60004
#define I915_REG_HSYNC_A_OFFSET     0x60008
#define I915_REG_VTOTAL_A_OFFSET    0x6000C
#define I915_REG_VBLANK_A_OFFSET    0x60010
#define I915_REG_VSYNC_A_OFFSET     0x60014
#define I915_REG_PIPEASRC_OFFSET    0x6001C
#define I915_REG_BCLRPAT_A_OFFSET   0x60020
#define I915_REG_CRCCTRLREDA_OFFSET     0x60050
#define I915_REG_CRCCTRLGREENA_OFFSET   0x60054
#define I915_REG_HTOTAL_B_OFFSET    0x61000
#define I915_REG_HBLANK_B_OFFSET    0x61004
#define I915_REG_HSYNC_B_OFFSET     0x61008
#define I915_REG_VTOTAL_B_OFFSET    0x6100C
#define I915_REG_VBLANK_B_OFFSET    0x61010
#define I915_REG_VSYNC_B_OFFSET     0x61014
#define I915_REG_PIPEBSRC_OFFSET    0x6101C
#define I915_REG_BCLRPAT_B_OFFSET   0x61020
#define I915_REG_PIPEB_DATA_M1_OFFSET   0x61030
#define I915_REG_PIPEB_DATA_N1_OFFSET   0x61034
#define I915_REG_PIPEB_LINK_M1_OFFSET   0x61040
#define I915_REG_PIPEB_LINK_N1_OFFSET   0x61044
#define I915_REG_FDI_TXB_CTL_OFFSET 0x61100
/*#define I915_REG_ADPA_OFFSET      0x61100 */
#define I915_REG_ADPA_OFFSET        0x61100
#define I915_REG_DVOB_OFFSET        0x61140
#define I915_REG_DVOC_OFFSET        0x61160
#define I915_REG_PIPEACONF_OFFSET   0x70008
#define I915_REG_DSPARB_OFFSET      0x70030
#define I915_REG_DSPACNTR_OFFSET    0x70180
#define I915_REG_DSPASTRIDE_OFFSET  0x70188
#define I915_REG_CHICKEN_OFFSET     0x70400
#define I915_REG_VGACNTROL_OFFSET   0x71400
#define I915_REG_SWF10_OFFSET       0x71410
#define I915_REG_SWF11_OFFSET       0x71414
#define I915_REG_SWF12_OFFSET       0x71418
#define I915_REG_SWF13_OFFSET       0x7141C
#define I915_REG_SWF14_OFFSET       0x71420
#define I915_REG_SWF15_OFFSET       0x71424
#define I915_REG_SWF16_OFFSET       0x71428
#define I915_REG_SWF17_OFFSET       0x7142C
#define I915_REG_SWF18_OFFSET       0x71430
#define I915_REG_SWF19_OFFSET       0x71434
#define I915_REG_SWF1A_OFFSET       0x71438
#define I915_REG_SWF1B_OFFSET       0x7143C
#define I915_REG_SWF1C_OFFSET       0x71440
#define I915_REG_SWF1D_OFFSET       0x71444
#define I915_REG_SWF1E_OFFSET       0x71448
#define I915_REG_SWF1F_OFFSET       0x7144C
#define I915_REG_SWF30_OFFSET       0x72414
#define I915_REG_SWF31_OFFSET       0x72418
#define I915_REG_SWF32_OFFSET       0x7241C
#define I915_REG_PRB0_START_OFFSET  0x2038
#define I915_REG_PRB0_TAIL_OFFSET   0x2030
#define I915_REG_PRB0_HEAD_OFFSET   0x2034
#define I915_REG_PRB0_CTL_OFFSET    0x203C
#define I915_REG_BB_STATE_OFFSET    0x2110
#define I915_REG_HWB_START_OFFSET   0x2408
#define I915_REG_HWB_TAIL_OFFSET    0x2400
#define I915_REG_HWB_HEAD_OFFSET    0x2404
#define I915_REG_HWB_CTL_OFFSET     0x240C
#define I915_REG_FORCEWAKE_OFFSET   0xa18c

#define I915_REG_PIPEA_DATA_M1_OFFSET   0x60030
#define I915_REG_PIPEA_DATA_N1_OFFSET   0x60034
#define I915_REG_PIPEA_LINK_M1_OFFSET   0x60040
#define I915_REG_PIPEA_LINK_N1_OFFSET   0x60044
#define I915_REG_FDI_TXA_CTL_OFFSET 0x60100
#define I915_REG_PFA_WIN_SZ_OFFSET  0x68074
#define I915_REG_PFA_CTL_1_OFFSET   0x68080
#define I915_REG_DSPASURF_OFFSET    0x7019c
#define I915_REG_DSPATILEOFF_OFFSET 0x701a4
#define I915_REG_PIPEASTAT_OFFSET   0x70024

#define I915_REG_TRANSACONF_OFFSET  0xf0008
#define I915_REG_FDI_RXA_CTL_OFFSET     0xf000c
#define I915_REG_FDI_RXA_IIR_OFFSET     0xf0014
#define I915_REG_FDI_RXA_IMR_OFFSET     0xf0018
#define I915_REG_FDI_RXA_TUSIZE1_OFFSET 0xf0030
#define I915_REG_TRANSBCONF_OFFSET  0xf1008 /* always 0 */
#define I915_REG_FDI_RXB_CTL_OFFSET     0xf100c /* always 0x40 */

#define I915_REG_PP_ON_DELAY_OFFSET     0x61208
#define I915_REG_PP_OFF_DELAY_OFFSET    0x6120c

#define I915_REG_WM0_PIPEA_ILK_OFFSET       0x45100
#define I915_REG_WM0_PIPEB_ILK_OFFSET       0x45104
#define I915_REG_WM1_LP_ILK_OFFSET      0x45108
#define I915_REG_WM2_LP_ILK_OFFSET      0x4510c
#define I915_REG_WM3_LP_ILK_OFFSET      0x45110
#define I915_REG_PCH_DPLL_A_OFFSET      0xc6014
#define I915_REG_PCH_DPLL_B_OFFSET      0xc6018
#define I915_REG_PCH_FPA0_OFFSET        0xc6040
#define I915_REG_PCH_FPA1_OFFSET        0xc6044
#define I915_REG_PCH_DREF_CONTROL_OFFSET    0xc6200
#define I915_REG_PCH_DPLL_SEL_OFFSET        0xc7000
#define I915_REG_TRANS_HTOTAL_A_OFFSET      0xe0000
#define I915_REG_TRANS_HBLANK_A_OFFSET      0xe0004
#define I915_REG_TRANS_HSYNC_A_OFFSET       0xe0008
#define I915_REG_TRANS_VTOTAL_A_OFFSET      0xe000c
#define I915_REG_TRANS_VBLANK_A_OFFSET      0xe0010
#define I915_REG_TRANS_VSYNC_A_OFFSET       0xe0014
#define I915_REG_TRANSA_DATA_M1_OFFSET      0xe0030
#define I915_REG_TRANSA_DATA_N1_OFFSET      0xe0034
#define I915_REG_TRANSA_DP_LINK_M1_OFFSET   0xe0040
#define I915_REG_TRANSA_DP_LINK_N1_OFFSET   0xe0044
#define I915_REG_TRANS_DP_CTL_A_OFFSET      0xe0300
#define I915_REG_TRANS_DP_CTL_B_OFFSET      0xe1300
#define I915_REG_PCH_ADPA_OFFSET        0xe1100

#define I915_REG_BLT_RING_START_OFFSET  0x22038
#define I915_REG_BLT_RING_TAIL_OFFSET   0x22030
#define I915_REG_BLT_RING_HEAD_OFFSET   0x22034
#define I915_REG_BLT_RING_CTL_OFFSET    0x2203C

#define I915_REG_GEN6_BSD_RING_START_OFFSET     0x12038
#define I915_REG_GEN6_BSD_RING_TAIL_OFFSET  0x12030
#define I915_REG_GEN6_BSD_RING_HEAD_OFFSET  0x12034
#define I915_REG_GEN6_BSD_RING_CTL_OFFSET   0x1203C

#define I915_REG_CURABASE_OFFSET        0x70084
#define I915_REG_CURBBASE_OFFSET        0x700C4
#define I915_REG_DSPASURFLIVE_OFFSET        0x701AC
#define I915_REG_DSPBSURF_OFFSET        0x7119C
#define I915_REG_DSPBSURFLIVE_OFFSET        0x711AC
#define I915_REG_DVSASURFLIVE_OFFSET        0x721AC
#define I915_REG_DVSBSURF_OFFSET        0x7319C
#define I915_REG_DVBSURFLIVE_OFFSET     0x731AC

#define I915_REG_FENCE_0_OFFSET         0x100000
#define I915_REG_FENCE_1_OFFSET         0x100004
#define I915_REG_FENCE_2_OFFSET         0x100008
#define I915_REG_FENCE_3_OFFSET         0x10000c
#define I915_REG_FENCE_4_OFFSET         0x100010
#define I915_REG_FENCE_5_OFFSET         0x100014
#define I915_REG_FENCE_6_OFFSET         0x100018
#define I915_REG_FENCE_7_OFFSET         0x10001c
#define I915_REG_FENCE_8_OFFSET         0x100020
#define I915_REG_FENCE_9_OFFSET         0x100024
#define I915_REG_FENCE_10_OFFSET        0x100028
#define I915_REG_FENCE_11_OFFSET        0x10002c
#define I915_REG_FENCE_12_OFFSET        0x100030
#define I915_REG_FENCE_13_OFFSET        0x100034
#define I915_REG_FENCE_14_OFFSET        0x100038
#define I915_REG_FENCE_15_OFFSET        0x10003c
#define I915_REG_FENCE_16_OFFSET        0x100040
#define I915_REG_FENCE_17_OFFSET        0x100044
#define I915_REG_FENCE_18_OFFSET        0x100048
#define I915_REG_FENCE_19_OFFSET        0x10004c
#define I915_REG_FENCE_20_OFFSET        0x100050
#define I915_REG_FENCE_21_OFFSET        0x100054
#define I915_REG_FENCE_22_OFFSET        0x100058
#define I915_REG_FENCE_23_OFFSET        0x10005c
#define I915_REG_FENCE_24_OFFSET        0x100060
#define I915_REG_FENCE_25_OFFSET        0x100064
#define I915_REG_FENCE_26_OFFSET        0x100068
#define I915_REG_FENCE_27_OFFSET        0x10006c
#define I915_REG_FENCE_28_OFFSET        0x100070
#define I915_REG_FENCE_29_OFFSET        0x100074
#define I915_REG_FENCE_30_OFFSET        0x100078
#define I915_REG_FENCE_31_OFFSET        0x10007c

#define I915_REG_HWS_PGA_OFFSET         0x4080
#define I915_REG_PP_PFD_OFFSET          0x4580
#define I915_REG_BB_PREEMPT_ADDR_OFFSET     0x2148
#define I915_REG_BB_START_ADDR_OFFSET       0x2150
#define I915_REG_BB_ADDR_DIFF_OFFSET        0x2154
#define I915_REG_FBC_RT_ADDR_REGISTER_OFFSET    0x2128
#define I915_REG_UHPTR_OFFSET           0x2134
#define I915_REG_BB_ADDR_OFFSET         0x2140
#define I915_REG_CCID_OFFSET            0x2180
#define I915_REG_VCS_HWS_PGA_OFFSET     0x4180
#define I915_REG_BCS_HWS_PGA_OFFSET     0x24080
#define I915_REG_BCS_UHPTR_OFFSET       0x22134
#define I915_REG_RENDER_RING_ACTHD_OFFSET   0x2074

#define I915_REG_PFB_WIN_SZ_OFFSET      0x68874
#define I915_REG_PFB_CTL_1_OFFSET       0x68880
#define I915_REG_PIPEBCONF_OFFSET       0x71008
#define I915_REG_PIPEBSTAT_OFFSET       0x71024
#define I915_REG_DSPBRB_OFFSET          0x71030
#define I915_REG_DSPBCNTR_OFFSET        0x71180
#define I915_REG_DSPBBASE_OFFSET        0x71184
#define I915_REG_DSPBSTRIDE_OFFSET      0x71188
#define I915_REG_DSPBTILEOFF_OFFSET     0x711a4
#define I915_REG_PCH_FPB0_OFFSET        0xc6048
#define I915_REG_PCH_FPB1_OFFSET        0xc604c
#define I915_REG_TRANS_HTOTAL_B_OFFSET      0xe1000
#define I915_REG_TRANS_HBLANK_B_OFFSET      0xe1004
#define I915_REG_TRANS_HSYNC_B_OFFSET       0xe1008
#define I915_REG_TRANS_VTOTAL_B_OFFSET      0xe100c
#define I915_REG_TRANS_VBLANK_B_OFFSET      0xe1010
#define I915_REG_TRANS_VSYNC_B_OFFSET       0xe1014
#define I915_REG_TRANSB_DATA_M1_OFFSET      0xe1030
#define I915_REG_TRANSB_DATA_N1_OFFSET      0xe1034
#define I915_REG_TRANSB_DP_LINK_M1_OFFSET   0xe1040
#define I915_REG_TRANSB_DP_LINK_N1_OFFSET   0xe1044
#define I915_REG_FDI_RXB_IIR_OFFSET     0xf1014
#define I915_REG_FDI_RXB_IMR_OFFSET     0xf1018
#define I915_REG_FDI_RXB_TUSIZE1_OFFSET     0xf1030
#define I915_REG_HDMIB_OFFSET           0xe1140
#define I915_REG_HDMIC_OFFSET           0xe1150
#define I915_REG_HDMID_OFFSET           0xe1160
#define I915_REG_GT_FIFO_FREE_ENTRIES_OFFSET    0x120008

/* Masks */
#define I915_REG_DEFAULT_MASK           0
#define I915_REG_PGTBL_CTL_MASK         1
#define I915_REG_INSTPM_MASK            0x1F0000
#define I915_REG_CHUNK_CTL_MASK         8
#define I915_REG_BINCTL_MASK            0x200
#define I915_REG_EXCC_MASK              0x400100

#define I915_EMULATION_HANDLED      1
#define I915_EMULATION_NOT_HANDLED  2

#define INVALID_RB_VALUE        0
#define INVALID_RB_IDX_VALUE        0xFFFFFFFF
#define INVALID_GPUREG_IDX      0xFFFFFFFF

#define TRANSCODER_ENABLE       (1 << 31)
#define DSPCNTR_PRIMARY_PLANE_ENABLE    (1 << 31)
#define PIPECONF_ENABLE         (1 << 31)
#define PIPECONF_BPC_MASK       0xE0 /* bits 5-7 */
#define FDI_TX_ENABLE           (1 << 31)
#define FDI_RX_ENABLE           (1 << 31)
#define FDI_LINK_TRAIN_NONE     (3 << 28)
#define FDI_LINK_TRAIN_PATTERN_1    (0 << 28)
#define FDI_LINK_TRAIN_PATTERN_1_CPT    (0 << 8)
#define FDI_PCDCLK          (1 << 4)
#define FDI_TX_PLL_ENABLE       (1 << 14)
#define FDI_RX_PLL_ENABLE       (1 << 13)
#define RING_WAIT           (1 << 11)

#define TRANSCODER_DP_OUTPUT_ENABLE     (1 << 31)
#define TRANSCODER_DP_PORT_SEL_MASK     (3 << 29)
#define TRANSCODER_A_DPLL_ENABLE    (1 << 3)
#define TRANSCODER_A_DPLLB_SEL      (1 << 0)

#define PCH_DPLL_VCO_ENABLE         (1 << 31)

#define DISPLAY_REF_NONSPREAD_SOURCE_MASK   (3 << 9)
#define DISPLAY_REF_NONSPREAD_SOURCE_ENABLE     (2 << 9)
#define DISPLAY_REF_SSC_SOURCE_MASK         (3 << 11)
#define DISPLAY_REF_SSC_SOURCE_ENABLE       (2 << 11)
#define DISPLAY_PIPE_VBLANK_INT_STAT        (1 << 1)

#define I915_RB_TAIL_TO_START(tail) ((tail)+8)
#define I915_RB_TAIL_TO_HEAD(tail)      ((tail)+4)

#define MI_INSTR(opcode, flags) (((opcode) << 23) | (flags))
#define MI_BATCH_BUFFER_START   MI_INSTR(0x31, 0)
#define MI_BATCH_BUFFER     MI_INSTR(0x30, 1)
#define RING_BUFFER_SIZE_VAL    (128*1024)
#define INVALID_RB_TAIL     0xffffffff
#define I915_RING_BUFFER_ENABLE     1

#define GPU_CONTEXT_OFFSET_A_  0x10000
#define GPU_CONTEXT_OFFSET_B_  0x20000

#define GPU_CONTEXT_OFFSET_A  0xffd0000 /* 0x10000 */
#define GPU_CONTEXT_OFFSET_B  0xffe0000 /* 0x20000 */

#define   GPU_CONTEXT_RESTORE 0
#define   GPU_CONTEXT_SAVEONLY 1

#define CCID_TIMEOUT_LIMIT  150
#define ARB_TIMEOUT_LIMIT   100

#define NUM_RB_DWORDS_TO_SAVE   32



#define I915_REG_FLAG_PIPE_A        0x001
#define I915_REG_FLAG_PIPE_B        0x002
#define I915_REG_FLAG_GRAPHICS_ADDRESS  0x004
#define I915_REG_FLAG_RB_TAIL       0x008
#define I915_REG_FLAG_RB        0x010
#define I915_REG_FLAG_VGA_DETECT    0x020
#define I915_REG_FLAG_HDMI_DETECT   0x040
#define I915_REG_FLAG_SW        0x080
#define I915_REG_FLAG_NEVER_DRIVER  0x100

/* MAGIC VALUES for DELL 1920x1080 display */
#define DISPLAY_PCH_FPA0_VAL    0xc21007
#define DISPLAY_HTOTAL      0x897077f
#define DISPLAY_HBLANK      0x897077f
#define DISPLAY_HSYNC       0x80307d7
#define DISPLAY_VTOTAL      0x4640437
#define DISPLAY_VBLANK      0x4640437
#define DISPLAY_VSYNC       0x440043b
#define DISPLAY_PIPESRC     0x77f0437
#define DISPLAY_PIPE_DATA_M1    0x7e3661e0
#define DISPLAY_PIPE_DATA_N1    0x41eb00
#define DISPLAY_PIPE_LINK_M1    0x24414
#define DISPLAY_PIPE_LINK_N1    0x41eb0
#define DISPLAY_PLANE_STRIDE    0x1e00
#define PLANE_AND_CURSOR_WM 0x90006
#define PLANE_AND_CURSOR_WM_1   0x83301006
#define PLANE_AND_CURSOR_WM_2   0x84301506
#define PLANE_AND_CURSOR_WM_3   0x96306906

typedef struct i915emuRegs_
    {
    char	name[32];
    uint32_t	offset;
    uint32_t	value;
    uint32_t	shadow;
    uint32_t	flags;
    uint32_t	enableMask;
    uint32_t	writeMask;
    } i915emuRegs_t;
